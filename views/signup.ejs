<!DOCTYPE html>
<html>

<head>
  <title>Signup</title>
</head>

<body>
  <h2>Sign Up</h2>
  <form action="/api/users" method="POST">
    <input type="text" name="fullName" placeholder="fullName" required>
    <input type="text" name="email" placeholder="Email" required>
    <input type="text" name="mobile" placeholder="Mobile" required>
    <input type="password" name="password" placeholder="Password" required>
    <input type="text" name="gender" placeholder="Gender" required>
    <input type="text" name="profilePic" placeholder="ProfilePic">
    <button type="submit">Sign Up</button>
  </form>
  <a href="/login">Already have an account? Login</a>

  <script>
    document.getElementById("signupForm").addEventListener("submit", async function (e) {
      e.preventDefault();

      const formData = new FormData(this);
      const body = new URLSearchParams(formData);

      const res = await fetch("/api/auth/user/register", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(userData),
      });

      const data = await res.json();
      if (data.success) {
        window.location.href = "/booking";
      } else {
        alert(data.message || "Signup failed");
      }
    });
  </script>

</body>

</html>